<?xml version="1.0"?>
<Entities>  
  <Entity name ="FloorTile_def" is_archetype="true">
    <Components>
      <TextureSet>
        <Sprites>
          <array_elem value="::dungeon:floor:rect_gray0"/>
        </Sprites>
      </TextureSet>
        <AsciiSet>
        <Symbols>
          <array_elem value="."/>
        </Symbols>
        </AsciiSet>
      <MoveCost MoveCost="1"/>
    </Components>
  </Entity>
  <Entity name ="WallTile_def" is_archetype="true">
    <Components>
      <TextureSet>
        <Sprites>
          <array_elem value="::dungeon:wall:marble_wall1"/>
        </Sprites>
      </TextureSet>
      <AsciiSet>
        <Symbols>
          <array_elem value="#"/>
        </Symbols>
        </AsciiSet>
      <MoveCost MoveCost="inf"/>
    </Components>
  </Entity>
  
  <Entity name ="Door_def" is_archetype="true">
    <Components>
      <TextureSet>
        <Sprites>
          <array_elem value="::dungeon:dngn_open_door"/>
          <array_elem value="::dungeon:dngn_closed_door"/>
          <array_elem value="::dungeon:dngn_detected_secret_door"/>
        </Sprites>
      </TextureSet>
      <AsciiSet>
        <Symbols>
          <array_elem value="/"/>
          <array_elem value="+"/>
          <array_elem value="+"/>
        </Symbols>
        </AsciiSet>
      <DoorState State="0"/>
    </Components>
  </Entity>
  
  <Entity name ="Entry_def" is_archetype="true">
    <Components>
      <TextureSet>
        <Sprites>
          <array_elem value="::dungeon:gateways:stone_stairs_down"/>
        </Sprites>
      </TextureSet>
      <AsciiSet>
        <Symbols>
          <array_elem value="V"/>
        </Symbols>
        </AsciiSet>
    </Components>
  </Entity>
  
  <Entity name ="Exit_def" is_archetype="true">
    <Components>
      <TextureSet>
        <Sprites>
          <array_elem value="::dungeon:gateways:stone_stairs_up"/>
        </Sprites>
      </TextureSet>
      <AsciiSet>
        <Symbols>
          <array_elem value="^"/>
        </Symbols>
        </AsciiSet>
    </Components>
  </Entity>
  
  <Entity name ="Rat" is_archetype="true">
    <Components>
      <TextureSet>
        <Sprites>
          <array_elem value="::monsters:animals:grey_rat"/>
        </Sprites>
      </TextureSet>
      <AsciiSet>
        <Symbols>
          <array_elem value="r"/>
        </Symbols>
      </AsciiSet>
      <ControllerAI/>
    </Components>
  </Entity>
  
  <Entity name ="Hero" is_archetype="false">
    <Components>
      <TextureSet>
        <Sprites>
          <array_elem value="::monsters:unique:norbert"/>
        </Sprites>
      </TextureSet>
      <AsciiSet>
        <Symbols>
          <array_elem value="@"/>
        </Symbols>
      </AsciiSet>
      <ControllerPlayer>
        <Bindings>
        <key value="95"/>
        <value value="PlayerMoveNW"/>
        <key value="96"/>
        <value value="PlayerMoveN"/>
        <key value="97"/>
        <value value="PlayerMoveNE"/>
        <key value="89"/>
        <value value="PlayerMoveSW"/>
        <key value="90"/>
        <value value="PlayerMoveS"/>
        <key value="91"/>
        <value value="PlayerMoveSE"/>
        <key value="92"/>
        <value value="PlayerMoveW"/>
        <key value="93"/>
        <value value="PlayerMove"/>
        <key value="94"/>
        <value value="PlayerMoveE"/>
        </Bindings>
      </ControllerPlayer>
      <Visibility/>
    </Components>
    <Tagus>
      <array_elem value="Player"/>
    </Tagus>
  </Entity>
  
  <Entity name ="World">
    <Components>
    <WorldData/>
    </Components>
    <Tagus>
      <array_elem value="World"/>
    </Tagus>
  </Entity>
  
  <Entity name ="Level">
    <Components>
      <LevelData Id = "1">
        <Layout>
            <DunGen>
                <Dims x="80" y="25"/>
                <DoorsPerRoom x="1" y="4"/>
            </DunGen>
            <Tiles>
                <key value="Floor"/>
                <value value="FloorTile_def"/>
                <key value="Wall"/>
                <value value="WallTile_def"/>
                <key value="Door"/>
                <value value = "Door_def"/>
                <key value="Entry"/>
                <value value="Entry_def"/>
                <key value="Exit"/>
                <value value="Exit_def"/>
            </Tiles>
          </Layout>
      </LevelData>
    </Components>
    <Tags>
      <array_elem value="TestLevel"/>
    </Tags>
  </Entity>
</Entities>